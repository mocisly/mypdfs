\documentclass{article}
\usepackage{preamble}
\usepackage{env}

% define these variables!
\def\coursecode{MAT257}
\def\leftmark{Week 14(??) - Integration} % set text in header; should only be necessary in assignments etc.
\pagenumbering{arabic} % force revert numbering to default; should only be necessary in assignments etc.

\DeclareMathOperator{\vol}{vol}

\makeatletter
% settings for toc alignment
%
% Configuration
% -------------
% Horizonal alignment in \numberline:
%   l: left-aligned
%   c: centered
%   r: right-aligned
% \nl@align@: Default setting
% \nl@align@<levelname>: Setting for specific level

\def\nl@align@{l}% default
\def\nl@align@section{r}

\makeatother

\begin{document}
\setcounter{subsection}{14}
\setcounter{qu}{9}

\begin{qu}[title=Part a)]
    Let $H$ be the open upper-hemisphere of the sphere in $\bb{R}^3$:
        \[ H = \{p=(x,y,z)\in S^3 :x^2+y^2+z^2=1, z>0\}. \]
        Find the surface area of $H$ using the parametrization $z=\sqrt{1-x^2-y^2}$.
\end{qu}

\begin{soln}
    Denote our parametrization $ f: B_{2}(0, 1) \rightarrow H $ as:
    \begin{equation*}
        f(x, y) = (x, y, \sqrt{1 - x^{2} - y^{2}})
    \end{equation*}
    We want to compute the following:
    \begin{equation*}
        \trm{vol}_{f}(H) = \int_{B_{2}(0, 1)}V(Jf)
        = \int_{B_{2}(0, 1)}\sqrt{\det\left((Jf)^{\msf{T}}(Jf)\right)}
    \end{equation*}
    Note that $ B_{2}(0, 1) $ simply denotes the unit ball in $ \bb{R}^{2} $. \vsp
    %
    We calculate the Jacobian of $ f $ as:
    \begin{equation*}
        Jf =
        \begin{bmatrix}
            1 & 0 \\
            0 & 1 \\
            \dfrac{-x}{\sqrt{1-x^{2}-y^{2}}} & \dfrac{-y}{\sqrt{1-x^{2}-y^{2}}}
        \end{bmatrix}
    \end{equation*}
    Then, we see that:
    \begin{align*}
        (Jf)^{\msf{T}}Jf & \ = \
        \begin{bmatrix}
            1 & 0 & \dfrac{-x}{\sqrt{1-x^{2}-y^{2}}} \\[0.15in]
            0 & 1 & \dfrac{-y}{\sqrt{1-x^{2}-y^{2}}}
        \end{bmatrix}
        \begin{bmatrix}
            1 & 0 \vsp
            0 & 1 \vsp
            \dfrac{-x}{\sqrt{1-x^{2}-y^{2}}} & \dfrac{-y}{\sqrt{1-x^{2}-y^{2}}}
        \end{bmatrix} \vsp
                         & \ = \
        \begin{bmatrix}
            1 + \dfrac{x^{2}}{1-x^{2}-y^{2}} & \dfrac{xy}{1-x^{2}-y^{2}} \\[0.15in]
            \dfrac{xy}{1-x^{2}-y^{2}} & 1+\dfrac{y^{2}}{1-x^{2}-y^{2}}
        \end{bmatrix}
    \end{align*}
    The determinant is thus given as:
    \begin{align*}
        \det \left( (Jf)^{\msf{T}}(Jf) \right) & \ = \
        \left( 1 + \frac{x^{2}}{1-x^{2}-y^{2}} \right)
        \left( 1 + \frac{y^{2}}{1-x^{2}-y^{2}} \right) -
        \left( \frac{xy}{1-x^{2}-y^{2}} \right)^{2} \vsp
        & \ = \
        1 + \frac{x^{2}}{1-x^{2}-y^{2}} + \frac{y^{2}}{1-x^{2}-y^{2}} +
        \left( \frac{xy}{1-x^{2}-y^{2}} \right)^{2} -
        \left( \frac{xy}{1-x^{2}-y^{2}} \right)^{2} \vsp
        & \ = \
        \frac{1-x^{2}-y^{2}}{1-x^{2}-y^{2}} +
        \frac{x^{2}}{1-x^{2}-y^{2}} + \frac{y^{2}}{1-x^{2}-y^{2}} \vsp
        & \ = \ \frac{1}{1-x^{2}-y^{2}}
    \end{align*}
    Therefore, we see that:
    \begin{align*}
        \trm{vol}_{f}(H) & \ = \ \int_{B_{2}(0,1)} \sqrt{\det \left( Jf \right)^{\msf{T}}Jf} \\
                         & \ = \ 4\int_{0}^{1}\int_{0}^{\sqrt{1-x^{2}}}
                         \sqrt{\frac{1}{1-x^{2}-y^{2}}}\d y\d x \\
                         & \ = \ 4\int_{0}^{1}\int_{0}^{\sqrt{1-x^{2}}}
                         \frac{1}{\sqrt{1-x^{2}-y^{2}}}\d y\d x \vsp
                         & \ = \ 4\int_{0}^{1}\arcsin \left( \frac{y}{\sqrt{1-x^{2}}}
                         \right)\bigg\rvert_{0}^{\sqrt{1-x^{2}}}\d x
                         \tag*{(thx Alan)}\vsp
                         & \ = \ 4\int_{0}^{1} \frac{\pi}{2}\d x \vsp
                         & \ = \ 2\pi
    \end{align*}
    Therefore, we conclude that $ \trm{vol}_{f}(H) = 2\pi $ as needed.
\end{soln}


\setcounter{qu}{9}
\begin{qu}[title=Part b)]
    Find the surface area of $H$ using spherical coordinates.
\end{qu}

\begin{soln}[source=Alan]
    Let $\alpha : (0, 2\pi) \times (0, \frac{\pi}{2}) \rightarrow H$ be a parametrization of $H$
    using spherical coordinates where:
$$
\alpha(\theta, \phi) = (\sin(\phi)\cos(\theta), \sin(\phi)\sin(\theta), \cos(\phi))
$$

Then we wish to compute:
$$
\operatorname{vol}_\alpha(H) = \int_{(0, 2\pi) \times (0, \frac{\pi}{2})} V(\alpha^\prime)
$$

First, observe that:
\begin{gather*}
\alpha^\prime(\theta, \phi) = \begin{bmatrix}
-\sin(\phi)\sin(\theta) & \cos(\phi)\cos(\theta) \\
\sin(\phi)\cos(\theta) & \cos(\phi)\sin(\theta) \\
0 & -\sin(\phi)
\end{bmatrix} \vsp
\alpha^\prime(\theta, \phi)^T = \begin{bmatrix}
-\sin(\phi)\sin(\theta) & \sin(\phi)\cos(\theta) & 0 \\
\cos(\phi)\cos(\theta)  & \cos(\phi)\sin(\theta) & -\sin(\phi)
\end{bmatrix}
\end{gather*}

For brevity, we'll denote $ \omega(\phi, \theta) = \sin(\phi)\sin(\theta) $
and $ \tau(\phi, \theta) = \cos(\phi)\cos(\theta) $.
Then, observe that:
\begin{align*}
    (\alpha^\prime(\theta, \phi))^t\alpha^\prime(\theta, \phi) = &
\begin{bmatrix}
\omega^{2}(\phi, \theta) + \sin^2(\phi)\cos^2(\theta) & -\omega(\phi, \theta)\tau(\phi, \theta)
+ \tau(\phi, \theta)\omega(\phi, \theta) \\ 
-\omega(\phi, \theta)\tau(\phi, \theta) + \tau(\phi, \theta)\omega(\phi, \theta) &
\tau^{2}(\phi, \theta) + \cos^2(\phi)\sin^2(\theta) + \sin^2(\phi) \\
\end{bmatrix} \vsp
    = & 
\begin{bmatrix}
\omega^{2}(\phi, \theta) + \sin^2(\phi)\cos^2(\theta) & 0 \\ 
0 & \tau^{2}(\phi, \theta) + \cos^2(\phi)\sin^2(\theta) + \sin^2(\phi) \\
\end{bmatrix}
\end{align*}

Finally, we have that $ \det(\alpha^\prime(\theta, \phi))^t\alpha^\prime(\theta, \phi)) $
is given by:
\begin{align*}
    & \ (\omega^{2}(\phi, \theta) + \sin^{2}(\phi)\cos^{2}(\theta))
    (\tau^{2}(\phi, \theta)+\cos^{2}(\phi)\sin^{2}(\theta)+\sin^{2}(\phi)) \\
= & \ (\sin^2(\phi)\sin^2(\theta) + \sin^2(\phi)\cos^2(\theta))(\cos^2(\phi)\cos^2(\theta) +
\cos^2(\phi)\sin^2(\theta) + \sin^2(\phi)) \\
 = & \ (\sin^2(\phi)(\sin^2(\theta) + \cos^2(\theta)))(\cos^2(\phi)(\cos^2(\theta) + \sin^2(\theta))
 + \sin^2(\phi)) \\
 = & \ (\sin^2(\phi))(\cos^2(\phi) + \sin^2(\phi)) \\
 = & \ \sin^2(\phi) \\
\end{align*}

As a result:
\begin{align*}
\operatorname{vol}_\alpha(H) &= \int_{(0, 2\pi) \times (0, \frac{\pi}{2})} V(\alpha^\prime) \\
 &= \int_{(0, 2\pi) \times (0, \frac{\pi}{2})} \sqrt{ \det (\alpha^\prime)^t(\alpha^\prime)  } \\
 &= \int_{0}^{2\pi} \int_0^{\frac{\pi}{2}} \sqrt{ \sin^2(\phi)  }   d\phi d\theta \\
 &= \int_{0}^{2\pi} \int_0^{\frac{\pi}{2}} \sin(\phi)  d\phi d\theta \quad \left(\sin \text{ is
 positive on } \left[0, \frac{\pi}{2}\right]\right) \\
 &= \int_{0}^{2\pi} \int_0^{\frac{\pi}{2}} \sin(\phi)  d\phi d\theta \\
 &= \int_{0}^{2\pi} -\cos(\frac{\pi}{2}) + \cos(0)  d\theta \\
 &= \int_{0}^{2\pi} 1  d\theta \\
 &= 2\pi \\
\end{align*}
\end{soln}

\end{document}
